---
spec_version: 1
kind: blueprint

metadata:
  description: AzureDevOps Application

clouds:
  - azure 4: eastus

inputs:
  - AzureDevOpsPAT: token
  - AgentPoolName: AgentPool
  - AzureDevOpsURL: https://dev.azure.com/{project}
  - AgentName: MyAgent
  - AgentInstallURL: https://vstsagentpackage.azureedge.net/agent/2.170.1/vsts-agent-win-x64-2.170.1.zip

applications:

  - AzureDevOpsAgent:
      instances: 1
      input_values:
        - AzureDevOpsPAT: $AzureDevOpsPAT
        - AgentPoolName: $AgentPoolName
        - AzureDevOpsURL: $AzureDevOpsURL
        - AgentName: $AgentName
        - AgentInstallURL: $AgentInstallURL

debugging:
  availability: enabled-on